<div class="dash-container">
  <div class="self-container">
    <div class="user-card">
      <div class="user-card-info">
      <img src="https://img.discogs.com/J0dDznbRdLgNsWDDktbsC0xCFRA=/fit-in/500x500/filters:strip_icc():format(jpeg):mode_rgb():quality(90)/discogs-images/R-3649743-1338847217-5371.jpeg.jpg" alt="" class="user-card-image">
      <h6><%= current_user.first_name %></h6>
      <h6><%= current_user.profession %></h6>
      </div>
      <div class="user-card-bio">
        <p><%= current_user.bio %></p>
      </div>
      <div class="divider-line"></div>
      <div class="user-card-actions">
        <%= link_to 'Edit profile', edit_user_registration_path %>
      </div>
    </div>
  </div>
  <div class="dash-info-container">

    <div class="tab-select">
      <button data-content="hosting" class="tablinks">Hosting</button>
      <button data-content="received" class="tablinks">Requests</button>
      <button data-content="sent" class="tablinks">Sent</button>
    </div>

    <div id="hosting" class="tab-content">
      <% if current_user.hosted_meetings.length > 0 %>
        <h5>Your workspaces</h5>
        <div class="meeting-list-container hosting-grid">
          <% current_user.hosted_meetings.each do |meeting|  %>
            <div class="workspace-card">
              <!-- <img src="https://source.unsplash.com/featured/?workspace" alt="cover-image" class="workspace-image"> -->
              <div class="workspace-avatars">
                <ul>
                  <li><img src="https://www.jackholdsworth.com/profile.png" alt=""></li>
                  <li><img src="https://www.jackholdsworth.com/profile.png" alt=""></li>
                  <li><img src="https://www.jackholdsworth.com/profile.png" alt=""></li>
                  <li><img src="https://www.jackholdsworth.com/profile.png" alt=""></li>
                  <li><img src="https://www.jackholdsworth.com/profile.png" alt=""></li>
                  <li><img src="https://www.jackholdsworth.com/profile.png" alt=""></li>
                </ul>
              </div>
              <div class="workspace-card-info">
                <h6><%= link_to meeting.title, meeting_path(meeting) %></h6>
                <h6><%= meeting.date %></h6>
              </div>
            </div>
          <% end %>
        </div>
      <% else %>
        <h5><%= link_to "Create a new workspace", new_meeting_path  %></h5>
      <% end %>
    </div>
    <div id="received" class="tab-content">
      <% if @received_requests.empty? %>
        <h5>No requests yet!</h5>
      <% else %>
        <h5>Requests to join your workspaces</h5>
        <div class="meeting-list-container">
          <% @received_requests.each do |request| %>
            <div class="request-card">
              <div class="request-body">
                <img src="https://www.jackholdsworth.com/profile.png" alt="" class="">
                <div class="request-info">
                  <p><%= request.meeting.location %></p>
                  <p><%= request.message %></p>
                </div>
                <div class="request-card-actions">
                  <p><%= link_to "Accept", meeting_attendee_path(request.meeting, request, attendee: { confirmed: true}), method: 'put' %></p>
                  <p><%= link_to "Decline", meeting_attendee_path(request.meeting, request, attendee: { declined: true}), method: 'put' %></p>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
    <div id="sent" class="tab-content">
      <% if @pending_requests.empty? %>
        <h5><%= link_to "Search for a Workspace", meetings_path %></h5>
      <% else %>
        <h5>Your requests to join a workspace</h5>
        <div class="meeting-list-container">
          <% @pending_requests.each do |request| %>
            <div class="request-card">
              <div class="request-body">
                <img src="https://www.jackholdsworth.com/profile.png" alt="" class="">
                <div class="request-info">
                  <p><%= link_to request.meeting.title, meeting_path(request.meeting) %></p>
                  <p><%= request.confirmed %></p>
                </div>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
